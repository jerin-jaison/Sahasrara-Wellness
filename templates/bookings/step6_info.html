{% extends "bookings/base_booking.html" %}
{% block title %}Guest Information â€” Sahasrara Wellness{% endblock %}

{% block step_indicator %}
{% include "components/progress_stepper.html" with step=5 current_step=6 %}
{% endblock %}

{% block back_url %}{% url 'bookings:step5_slots' %}{% endblock %}

{% block content %}
<div class="booking-title-wrapper">
    <div class="booking-divider"></div>
    <h4 class="booking-title text-center">Guest Details</h4>
    <p class="text-muted small">Enter your information to secure the appointment</p>

    <a href="{% url 'bookings:step5_slots' %}" class="btn-back-stylish">
        <i class="bi bi-arrow-left"></i> Change Time
    </a>
</div>

<div class="premium-card mx-auto" style="max-width: 800px;">
    <form method="post" id="info-form">
        {% csrf_token %}

        <div class="mb-4">
            <label class="form-label small text-white text-uppercase fw-bold" style="letter-spacing:1px">Full
                Name</label>
            <div class="input-group-premium">
                <i class="bi bi-person"></i>
                <input type="text" name="name" class="form-control premium-input" placeholder="Your name"
                    value="{{ form.name.value|default:'' }}" required>
            </div>
            {% if form.name.errors %}<div class="text-danger small mt-1">{{ form.name.errors.0 }}</div>{% endif %}
        </div>

        <div class="mb-4">
            <label class="form-label small text-white text-uppercase fw-bold" style="letter-spacing:1px">Mobile
                Number</label>
            <div class="input-group-premium">
                <i class="bi bi-phone"></i>
                <input type="tel" name="phone" class="form-control premium-input" placeholder="Enter mobile"
                    value="{{ form.phone.value|default:'' }}" required>
            </div>
            {% if form.phone.errors %}<div class="text-danger small mt-1">{{ form.phone.errors.0 }}</div>{% endif %}
        </div>

        <div class="mb-4">
            <label class="form-label small text-white text-uppercase fw-bold" style="letter-spacing:1px">Email Address
                (Optional)</label>
            <div class="input-group-premium">
                <i class="bi bi-envelope"></i>
                <input type="email" name="email" class="form-control premium-input" placeholder="you@example.com"
                    value="{{ form.email.value|default:'' }}">
            </div>
            {% if form.email.errors %}<div class="text-danger small mt-1">{{ form.email.errors.0 }}</div>{% endif %}
        </div>

        <div class="mb-4">
            <label class="form-label small text-white text-uppercase fw-bold" style="letter-spacing:1px">Special
                Requests (Optional)</label>
            <textarea name="notes" class="form-control premium-input" rows="3"
                placeholder="Any health conditions or preferences?">{{ form.notes.value|default:'' }}</textarea>
        </div>

        {% include "components/sticky_cta.html" with label="Final Review" button_id="continue-btn" %}
    </form>
</div>

<style>
    .input-group-premium {
        position: relative;
        display: flex;
        align-items: center;
    }

    .input-group-premium i {
        position: absolute;
        left: 16px;
        color: var(--gold);
        opacity: 0.7;
    }

    .input-group-premium .premium-input {
        padding-left: 44px !important;
    }

    .premium-input {
        background: rgba(255, 255, 255, 0.03) !important;
        border: 1px solid var(--border-subtle) !important;
        color: white !important;
        border-radius: 12px !important;
        padding: 1rem !important;
        font-weight: 500;
        transition: var(--transition-smooth);
        width: 100%;
    }

    .premium-input:focus {
        border-color: var(--gold) !important;
        box-shadow: 0 0 10px rgba(198, 164, 90, 0.2) !important;
        background: rgba(255, 255, 255, 0.05) !important;
    }
</style>
{% endblock %}